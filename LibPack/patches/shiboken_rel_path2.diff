--- data\ShibokenConfig-spec.cmake.in	Wed Aug 14 11:36:46 2013
+++ data\ShibokenConfig-spec_new.cmake.in	Sat Mar  8 11:33:17 2014
@@ -5,22 +5,31 @@
 #  SHIBOKEN_PYTHON_INTERPRETER - Python interpreter (regular or debug) to be used with the bindings.
 #  SHIBOKEN_PYTHON_LIBRARIES   - Python libraries (regular or debug) Shiboken is linked against.
 
-SET(SHIBOKEN_INCLUDE_DIR "@CMAKE_INSTALL_PREFIX@/include/shiboken@shiboken_SUFFIX@")
+SET(SHIBOKEN_INCLUDE_DIR "${SELF_DIR}/../../../include/shiboken@shiboken_SUFFIX@")
 if(MSVC)
-    SET(SHIBOKEN_LIBRARY "@LIB_INSTALL_DIR@/@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@.lib")
+    SET(SHIBOKEN_LIBRARY "${SELF_DIR}/../../@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@.lib")
 elseif(CYGWIN)
-    SET(SHIBOKEN_LIBRARY "@LIB_INSTALL_DIR@/@CMAKE_IMPORT_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_IMPORT_LIBRARY_SUFFIX@")
+    SET(SHIBOKEN_LIBRARY "${SELF_DIR}/../../@CMAKE_IMPORT_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_IMPORT_LIBRARY_SUFFIX@")
 elseif(WIN32)
-    SET(SHIBOKEN_LIBRARY "@CMAKE_INSTALL_PREFIX@/bin/@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_SHARED_LIBRARY_SUFFIX@")
+    SET(SHIBOKEN_LIBRARY "${SELF_DIR}/../../../bin/@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_SHARED_LIBRARY_SUFFIX@")
 else()
-    SET(SHIBOKEN_LIBRARY "@LIB_INSTALL_DIR@/@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_SHARED_LIBRARY_SUFFIX@")
+    SET(SHIBOKEN_LIBRARY "${SELF_DIR}/../../@CMAKE_SHARED_LIBRARY_PREFIX@shiboken@shiboken_SUFFIX@@PYTHON_SUFFIX@@LIBRARY_OUTPUT_SUFFIX@@CMAKE_SHARED_LIBRARY_SUFFIX@")
+endif()
+
+if(PYTHONLIBS_FOUND)
+    SET(SHIBOKEN_PYTHON_INCLUDE_DIR ${PYTHON_INCLUDE_DIRS})
+    SET(SHIBOKEN_PYTHON_LIBRARIES ${PYTHON_LIBRARIES})
+else()
+    SET(SHIBOKEN_PYTHON_INCLUDE_DIR "@SBK_PYTHON_INCLUDE_DIR@")
+    SET(SHIBOKEN_PYTHON_LIBRARIES "@SBK_PYTHON_LIBRARIES@")
+endif()
+if(PYTHONINTERP_FOUND)
+    SET(SHIBOKEN_PYTHON_INTERPRETER ${PYTHON_EXECUTABLE})
+else()
+    SET(SHIBOKEN_PYTHON_INTERPRETER "@PYTHON_EXECUTABLE@")
 endif()
-SET(SHIBOKEN_PYTHON_INCLUDE_DIR "@SBK_PYTHON_INCLUDE_DIR@")
-SET(SHIBOKEN_PYTHON_INCLUDE_DIR "@SBK_PYTHON_INCLUDE_DIR@")
-SET(SHIBOKEN_PYTHON_INTERPRETER "@PYTHON_EXECUTABLE@")
-SET(SHIBOKEN_PYTHON_LIBRARIES "@SBK_PYTHON_LIBRARIES@")
 SET(SHIBOKEN_PYTHON_SUFFIX "@PYTHON_SUFFIX@")
 message(STATUS "libshiboken built for @SHIBOKEN_BUILD_TYPE@")
 @SBK_ADD_PY_DEBUG_DEFINITION@
 
-set(SHIBOKEN_BINARY "@CMAKE_INSTALL_PREFIX@/bin/@SHIBOKEN_GENERATOR@")
+set(SHIBOKEN_BINARY "${SELF_DIR}/../../../bin/@SHIBOKEN_GENERATOR@")
